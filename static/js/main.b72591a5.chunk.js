(this["webpackJsonpmovie-list-app"]=this["webpackJsonpmovie-list-app"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),i=c(24),n=c.n(i),r=c(7),l=c(2),o=c(0),d=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"inner-content",children:[Object(o.jsx)("div",{className:"brand",children:Object(o.jsx)(r.b,{to:"/",children:"Movie App"})}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/",children:"Home "})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/watchlist",children:"Watchlist"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/watched",children:"Watched "})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/favourites",children:"Favourite"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/add",className:"btn",children:"Search.."})})]})]})})})},j=c(3),b=(c(14),function(e){for(var t=e.pages,c=e.setCurrentPage,s=e.currentMovies,i=e.results,n=[],r=1;r<=t;r++)n.push(r);var l=Object(a.useState)(1),d=Object(j.a)(l,2),b=d[0],h=d[1];return Object(a.useEffect)((function(){c(b)}),[b,c]),Object(o.jsxs)("div",{className:"clearfix",children:[Object(o.jsxs)("div",{className:"hint-text",children:["Showing ",Object(o.jsx)("b",{children:s.length})," out of ",Object(o.jsx)("b",{children:i.length})," entries"]}),Object(o.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(o.jsx)("li",{className:"".concat(1===b?"page-item disabled":"page-item"),children:Object(o.jsx)("a",{href:"#!",className:"page-link",onClick:function(){return h((function(e){return 1===e?e:e-1}))},children:"Previous"})}),n.map((function(e,t){return Object(o.jsx)("li",{className:"".concat(b===e?"page-item active":"page-item"),children:Object(o.jsx)("a",{href:"#!",className:"page-link",onClick:function(){return h(e)},children:e})},t)})),Object(o.jsx)("li",{className:"".concat(b===n.length?"page-item disabled":"page-item"),children:Object(o.jsx)("a",{href:"#!",className:"page-link",onClick:function(){return h((function(e){return e===n.length?e:e+1}))},children:"Next"})})]})]})}),h=c(10),u=c(4),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(h.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),favouritelist:e.favouritelist.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});case"ADD_FAVOURITE_MOVIELIST":return Object(u.a)(Object(u.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),favouritelist:[t.payload].concat(Object(h.a)(e.favouritelist))});case"REMOVE_MOVIE_FROM_FAVOURITELIST":return Object(u.a)(Object(u.a)({},e),{},{favouritelist:e.favouritelist.filter((function(e){return e.id!==t.payload}))});default:return e}},m={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("wwatched")?JSON.parse(localStorage.getItem("watched")):[],favouritelist:localStorage.getItem("favouritelist")?JSON.parse(localStorage.getItem("favouritelist")):[]},x=Object(a.createContext)(m),v=function(e){var t=Object(a.useReducer)(O,m),c=Object(j.a)(t,2),s=c[0],i=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched)),localStorage.setItem("favouritelist",JSON.stringify(s.favouritelist))}),[s]);return Object(o.jsx)(x.Provider,{value:{watchlist:s.watchlist,watched:s.watched,favouritelist:s.favouritelist,addMovieToWatchlist:function(e){i({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){i({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){i({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){i({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){i({type:"REMOVE_FROM_WATCHED",payload:e})},addFavouriteMovielist:function(e){i({type:"ADD_FAVOURITE_MOVIELIST",payload:e})},removeMovieFromFavouritelist:function(e){i({type:"REMOVE_MOVIE_FROM_FAVOURITELIST",payload:e})}},children:e.children})},f=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(1),n=Object(j.a)(i,2),l=n[0],d=n[1],h=Object(a.useState)(5),u=Object(j.a)(h,1)[0],O=Object(a.useContext)(x),m=O.addFavouriteMovielist,v=O.addMovieToWatchlist;Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/all/week?api_key=".concat("0eab07c6105c03164ace717da637b3ea")).then((function(e){return e.json()})).then((function(e){e.errors?s([]):s(e.results)}))}),[]);var f=l*u,p=f-u,g=c.slice(p,f),N=Math.ceil(c.length/u);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"section",children:Object(o.jsxs)("div",{className:"row py-lg-5 home",children:[Object(o.jsxs)("div",{className:"col-lg-6 col-md-8 mx-auto",children:[Object(o.jsx)("h1",{children:"The Most Popular Movies For This Week"}),Object(o.jsx)("p",{className:"lead text-muted",children:"Create with TMDB Api. Please, don't forget check every week. So if you want you can create watchlist or watchedlist or favouritelist. Enjoy!"})]}),Object(o.jsx)("div",{class:"album py-5 bg-light",children:Object(o.jsx)("div",{class:"container",children:Object(o.jsx)("div",{class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3",children:g.map((function(e,t){return Object(o.jsx)("div",{class:"col",children:Object(o.jsxs)("div",{class:"card shadow-sm",children:[Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:"poster"}),Object(o.jsxs)("div",{class:"card-body",children:[Object(o.jsx)("p",{class:"card-text",children:e.overview.substring(0,100)+"..."}),Object(o.jsxs)("div",{class:"d-flex justify-content-between align-items-center",children:[Object(o.jsxs)("div",{class:"btn-group",children:[Object(o.jsx)(r.b,{to:"/details/".concat(e.id),children:Object(o.jsx)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",children:Object(o.jsx)("i",{class:"fas fa-info"})})}),Object(o.jsx)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(){m(e)},children:Object(o.jsx)("i",{class:"fas fa-heart"})}),Object(o.jsxs)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(){return v(e)},children:[Object(o.jsx)("i",{class:"fas fa-plus"})," "]})]}),Object(o.jsx)("small",{class:"text-muted",children:e.release_date})]})]})]},t)})}))})})}),Object(o.jsx)(b,{pages:N,setCurrentPage:d,currentMovies:g,results:c})]})})})},p=function(e){var t=e.movie,c=e.type,s=Object(a.useContext)(x),i=(s.addMovieToWatchlist,s.removeMovieFromWatchlist),n=s.addMovieToWatched,r=s.moveToWatchlist,l=s.removeFromWatched,d=s.addFavouriteMovielist,j=s.removeMovieFromFavouritelist;return Object(o.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return d(t)},children:Object(o.jsx)("i",{class:"fas fa-heart"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"favouritelist"===c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(o.jsx)("i",{className:"fas fa-plus"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return j(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},g=function(e){var t=e.movie,c=e.type;return Object(o.jsxs)("div",{className:"movie-card",children:[Object(o.jsx)("div",{className:"overlay"}),t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster ")}):Object(o.jsx)("div",{className:"filler-poster"}),Object(o.jsx)(p,{type:c,movie:t})]})},N=function(){var e=Object(a.useContext)(x).watchlist;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:" My Watchlist "}),Object(o.jsxs)("span",{className:"count-pill",children:[e.length,1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(g,{movie:e,type:"watchlist"})}))}):Object(o.jsx)("h2",{className:"no-movies",children:" No movies in your list, add some please! "})]})})},w=function(){var e=Object(a.useContext)(x).watched;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(o.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(g,{movie:e,type:"watched"},e.id)}))}):Object(o.jsx)("h2",{className:"no-movies",children:"No movies in your list! Add some!"})]})})},y=function(e){var t=e.movie,c=Object(a.useContext)(x),s=c.addMovieToWatchlist,i=c.addMovieToWatched,n=c.watchlist,r=c.watched,l=c.favouritelist,d=c.addFavouriteMovielist,j=n.find((function(e){return e.id===t.id})),b=r.find((function(e){return e.id===t.id})),h=!!j||!!b,u=!!b,O=!!l.find((function(e){return e.id===t.id}));return Object(o.jsx)("div",{className:"result-card",children:Object(o.jsxs)("div",{className:"poster-wrapper",children:[t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster ")}):Object(o.jsx)("div",{className:"filler-poster"}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("h3",{className:"title",children:[t.title," "]}),Object(o.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"-"})]}),Object(o.jsxs)("div",{className:"controls",children:[Object(o.jsx)("button",{className:"btn",disabled:h,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(o.jsx)("button",{className:"btn",disabled:u,onClick:function(){return i(t)},children:"Add to Watched"}),Object(o.jsx)("button",{className:"btn",disabled:O,onClick:function(){return d(t)},children:"Add to Favourites"})]})]})]})})},M=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)([]),n=Object(j.a)(i,2),r=n[0],l=n[1];return Object(o.jsx)("div",{className:"add-page",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"add-content",children:[Object(o.jsx)("div",{className:"input-wrapper",children:Object(o.jsx)("input",{type:"text",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("0eab07c6105c03164ace717da637b3ea","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))},placeholder:"Search for a movie"})}),r.length>0&&Object(o.jsx)("ul",{className:"results",children:r.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(y,{movie:e})},e.id)}))})]})})})},_=(c(32),c(33),c(15)),T=c.n(_),S=c(25),C=c(26),E=c.n(C);var I=function(){var e=Object(l.g)().id,t=Object(a.useState)(),c=Object(j.a)(t,2),s=c[0],i=c[1],n=Object(a.useState)(null),r=Object(j.a)(n,2),d=r[0],b=r[1],h=Object(a.useState)(!0),u=Object(j.a)(h,2),O=u[0],m=u[1];return Object(a.useEffect)((function(){function t(){return(t=Object(S.a)(T.a.mark((function t(){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,E.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=0eab07c6105c03164ace717da637b3ea&language=en-US"));case 4:c=t.sent,i(c.data),m(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),b(d),m(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),O?Object(o.jsx)("p",{children:"Loading"}):d?Object(o.jsx)("p",{children:"Error"}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container mt-4",children:Object(o.jsx)("div",{class:"row mb-2",children:Object(o.jsx)("div",{class:"col-md-12",children:Object(o.jsxs)("div",{class:"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative",children:[Object(o.jsx)("div",{class:"col-auto d-none d-lg-block",children:Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(s.poster_path),alt:"poster"})}),Object(o.jsxs)("div",{class:"col p-4 d-flex flex-column position-static",children:[Object(o.jsx)("strong",{class:"d-inline-block mb-2 text-primary",children:s.riginal_language}),Object(o.jsxs)("h3",{className:"mb-0",children:[" ",s.title," "]}),Object(o.jsx)("div",{class:"mb-1 text-muted",children:s.release_date}),Object(o.jsx)("p",{class:"card-text mb-auto",children:s.overview})]})]})})},s.id)})})},F=function(){var e=Object(a.useContext)(x).favouritelist;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"header",children:Object(o.jsx)("h1",{className:"heading",children:" My Watchlist "})}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(g,{movie:e,type:"favouritelist"})}))}):Object(o.jsx)("h2",{className:"no-movies",children:" No movies in your list, add some please! "})]})})};var k=function(){return Object(o.jsx)(v,{children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",element:Object(o.jsx)(f,{})}),Object(o.jsx)(l.a,{path:"/details/:id",element:Object(o.jsx)(I,{})}),Object(o.jsx)(l.a,{path:"/watchlist",element:Object(o.jsx)(N,{})}),Object(o.jsx)(l.a,{path:"/add",element:Object(o.jsx)(M,{}),children:" "}),Object(o.jsx)(l.a,{path:"/watched",element:Object(o.jsx)(w,{})}),Object(o.jsx)(l.a,{path:"/favourites",element:Object(o.jsx)(F,{})})]})]})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),i(e),n(e)}))};n.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(k,{})}),document.getElementById("root")),W()}},[[53,1,2]]]);
//# sourceMappingURL=main.b72591a5.chunk.js.map